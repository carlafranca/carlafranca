!function(t){"use strict";!function(){function e(t,e,i){e.useApplyAsync(!0),t.debugInfoEnabled(!1),t.commentDirectivesEnabled(!1),t.cssClassDirectivesEnabled(!1)}t.module("root",["ui.router","components","templates"]).config(e),e.$inject=["$compileProvider","$httpProvider","$locationProvider"]}()}(window.angular),function(t){"use strict";!function(){function e(t){function e(t,e,i){var n=t.$eval(i.evtDelegate),o=n.eventType||"click",r=n.selector,a=n.action,s=n.item;e.on(o+".evtDelegate",r,function(e){if(e.preventDefault(),!s){var i=$(e.target).parents("[data-id]").attr("data-id");s=t.$ctrl.list.items[i]}t.$ctrl[a](s)}),t.$on("$destroy",function(t){r=null,e.off(o+".evtDelegate")})}return{link:e,restrict:"A"}}e.$inject=["$parse"],t.module("eventDelegation",[]).directive("evtDelegate",e)}()}(window.angular),function(t){"use strict";!function(){t.module("components",["components.yt"])}()}(window.angular),function(t){"use strict";!function(){t.module("components.yt",["ui.router","eventDelegation"])}()}(window.angular),function(t){"use strict";!function(){function e(t,e,i){t.state("app",{redirectTo:"list",url:"/",component:"root"}),e.otherwise("/"),i.html5Mode(!0)}var i={templateUrl:"./root.html"};t.module("root").component("root",i).config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}()}(window.angular),function(t){"use strict";!function(){function e(e,i,n){function o(t){return t&&(l.pageToken=t),e.get(s,{params:l}).then(function(t){return 0===t.data.items.length?"No results found!":(a.pageInfo=t.data.pageInfo,a.nextPageToken=t.data.nextPageToken||null,a.prevPageToken=t.data.prevPageToken||null,a.items=t.data.items.filter(function(t){return"Deleted video"!==t.snippet.title}).map(function(t){var e={};return e.id=t.id,e.videoId=t.snippet.resourceId.videoId,e.title=t.snippet.title,e.thumbs=t.snippet.thumbnails,e.desc=t.snippet.description,e.descTruncated=t.snippet.description&&i("limitTo")(t.snippet.description,100)+" ...",e.date=i("date")(t.snippet.publishedAt),e}),a)},function(t){return t})}function r(e,i){function r(){var t;return a.items.some(function(o){o.videoId===e&&(n.localStorage.setItem("detailStore",JSON.stringify(o)),t={video:o,pgparam:i})}),t}var r,s=(a.items&&r(),n.localStorage.getItem("detailStore"));return s&&t.fromJson(s).videoId===e?{video:t.fromJson(s),pgparam:i}:o(i).then(function(t){return r()})}var a={},s="https://www.googleapis.com/youtube/v3/playlistItems",l={key:"AIzaSyCuv_16onZRx3qHDStC-FUp__A6si-fStw",playlistId:"PLSi28iDfECJPJYFA4wjlF5KUucFvc0qbQ",part:"snippet,contentDetails,status",maxResults:"10"};return{getList:o,getVideoById:r}}t.module("components.yt").factory("PlaylistService",e),e.$inject=["$http","$filter","$window"]}()}(window.angular),function(t){"use strict";!function(){function e(t,e){t.state("video",{url:"/watch?:video&page",component:"ytDetails",params:{page:{value:null,squash:!0}},resolve:{video:["PlaylistService","$transition$",function(t,e){return t.getVideoById(e.params().video,e.params().page)}]}}),e.html5Mode(!0)}var i={bindings:{video:"<"},controller:["$filter","$scope",function(t,e){this.$onInit=function(){this.videoLimitInput=this.video.video.desc,this.initLimit=150,this.maxLimit=1500,this.readMoreLabel="More...",this.desc=this.limitFilter(this.videoLimitInput,this.initLimit)},this.limitFilter=function(e,i){return t("limitTo")(e||this.videoLimitInput,i)}.bind(this),this.readMore=function(){var t=this.desc.length===this.initLimit;this.readMoreLabel=t?"...Less":"More...",this.desc=this.limitFilter(this.videoLimitInput,t?this.maxLimit:this.initLimit)}.bind(this)}],templateUrl:"./yt.videodetail.template.html"};t.module("components.yt").component("ytDetails",i).config(e).run(function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}),e.$inject=["$stateProvider","$locationProvider"]}()}(window.angular),function(t){"use strict";!function(){var e={bindings:{item:"<"},controller:function(){},templateUrl:"./yt.item.template.html"};t.module("components.yt").component("ytItem",e)}()}(window.angular),function(t){"use strict";!function(){function e(t,e){t.state("list",{url:"/playlist?page",component:"ytPlaylist",params:{page:{value:null,squash:!0}},resolve:{list:["PlaylistService","$transition$","$stateParams",function(t,e,i,n){return i.page?t.getList(e.params().page):t.getList()}]}}),e.html5Mode(!0)}var i={bindings:{list:"<"},controller:"ListCtrl",templateUrl:"./yt.list.template.html"};t.module("components.yt").component("ytPlaylist",i).config(e),e.$inject=["$stateProvider","$locationProvider"]}()}(window.angular),function(t){"use strict";!function(){function e(t,e,i){this.param=i.page,this.videoDetail=function(t){e.go("video",{video:t.videoId,page:this.param})}}e.$inject=["PlaylistService","$state","$stateParams"],t.module("components.yt").controller("ListCtrl",e)}()}(window.angular),function(t){"use strict";!function(){var e={bindings:{item:"<",pos:"@"},controller:["PlaylistService","$state",function(t,e,i){this.paging=function(i){t.getList(i).then(function(t){e.go("list",{page:i},{notify:!1})}.bind(this))}}],templateUrl:"./yt-paging.template.html"};t.module("components.yt").component("ytPaging",e)}()}(window.angular),function(t){"use strict";!function(){var e={bindings:{videoid:"<"},controller:["$window",function(t){this.$onInit=function(){this.player,t.onYouTubeIframeAPIReady()},t.onYouTubeIframeAPIReady=function(){this.player=new YT.Player("player",{height:"390",width:"640",videoId:this.videoid})}.bind(this)}],template:'<div id="player"></div>'};t.module("components.yt").component("ytPlayer",e)}()}(window.angular);